{% extends "base.html" %}
{% block title %}Lista de Ingredientes{% endblock %}

{% block content %}
<div class="min-h-screen bg-yellow-100 p-6 sm:p-10 font-[Poppins,sans-serif]">

  <!-- === HEADER === -->
  <div class="flex flex-col sm:flex-row justify-between items-center gap-5 mb-10 text-center sm:text-left">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-red-600 tracking-tight flex items-center gap-3 drop-shadow-md">
      🍯 Lista de Ingredientes
    </h1>
    <a href="{% url 'ingredient_create' %}" 
       class="bg-red-500 hover:bg-red-600 text-white px-5 sm:px-6 py-3 rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center gap-2 font-semibold w-full sm:w-auto">
      ➕ Agregar Ingrediente
    </a>
  </div>

  <!-- === TABLE CONTAINER === -->
  <div class="overflow-x-auto rounded-3xl shadow-xl border-4 border-yellow-300 bg-white">
    <table class="w-full min-w-[600px] text-sm sm:text-base text-gray-700">
      <thead class="bg-yellow-200 text-gray-800 uppercase text-xs sm:text-sm font-bold border-b-2 border-yellow-400">
        <tr class="text-center">
          <th class="py-3 sm:py-4 px-4 sm:px-6 text-left">Nombre</th>
          <th class="py-3 sm:py-4 px-4 sm:px-6 text-center">Stock</th>
          <th class="py-3 sm:py-4 px-4 sm:px-6 text-center">Unidad</th>
          <th class="py-3 sm:py-4 px-4 sm:px-6 text-center">Precio ($)</th>
          <th class="py-3 sm:py-4 px-4 sm:px-6 text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for ingredient in ingredients %}
        <tr class="border-b hover:bg-yellow-50 transition duration-150 text-center">
          <td class="py-3 px-4 sm:px-6 font-medium text-gray-800 text-left break-words">
            {{ ingredient.name }}
          </td>
          <td class="py-3 px-4 sm:px-6 text-gray-700">{{ ingredient.stock }}</td>
          <td class="py-3 px-4 sm:px-6 text-gray-700">{{ ingredient.measurament }}</td>
          <td class="py-3 px-4 sm:px-6 font-semibold text-yellow-600">${{ ingredient.price_per_unit }}</td>
          <td class="py-3 px-4 sm:px-6 flex flex-col sm:flex-row justify-center items-center gap-2">
            <a href="{% url 'ingredient_update' ingredient.id %}" 
               class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-xl shadow-md font-medium transition-all duration-150 flex items-center justify-center gap-1 w-full sm:w-auto">
              ✏️ Editar
            </a>
            <a href="{% url 'ingredient_delete' ingredient.id %}" 
               class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-xl shadow-md font-medium transition-all duration-150 flex items-center justify-center gap-1 w-full sm:w-auto">
              🗑️ Eliminar
            </a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="text-center py-8 text-gray-500 font-medium italic">
            No hay ingredientes registrados 🍃
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
