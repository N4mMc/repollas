{% extends "base.html" %}
{% block content %}
<div class="min-h-screen bg-yellow-100 py-10 px-4 sm:px-6 lg:px-10 font-[Poppins,sans-serif]">

  <!-- === HEADER === -->
  <div class="max-w-5xl mx-auto flex flex-col sm:flex-row justify-between items-center mb-10 gap-6">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-red-600 drop-shadow-md flex items-center gap-2 text-center sm:text-left">
      💰 Payments List
    </h1>

    <a href="{% url 'payment_create' %}" 
       class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-2xl shadow-md transition transform hover:scale-105 font-semibold flex items-center gap-2 text-center">
      ➕ Register Payment
    </a>
  </div>

  <!-- === TABLE / RESPONSIVE CONTAINER === -->
  <div class="max-w-5xl mx-auto bg-white border-4 border-yellow-300 rounded-3xl shadow-xl overflow-hidden">

    <!-- Version escritorio -->
    <div class="hidden md:block overflow-x-auto">
      <table class="min-w-full text-base text-gray-700">
        <thead class="bg-yellow-200 text-gray-800 uppercase text-sm font-bold border-b-2 border-yellow-400">
          <tr>
            <th class="py-4 px-6 text-center">Amount ($)</th>
            <th class="py-4 px-6 text-center">Date</th>
            <th class="py-4 px-6 text-center">Details</th>
            <th class="py-4 px-6 text-center">Actions</th>
          </tr>
        </thead>

        <tbody>
          {% for payment in payments %}
            <tr class="border-b hover:bg-yellow-50 transition duration-150 cursor-pointer text-center">
              <td class="py-3 px-6 font-semibold text-green-700">${{ payment.amount }}</td>
              <td class="py-3 px-6">{{ payment.created_at|date:"Y-m-d" }}</td>
              <td class="py-3 px-6 text-gray-700">{{ payment.description }}</td>
              <td class="py-3 px-6 text-gray-400 italic">—</td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="4" class="text-center text-gray-500 py-8">No payments recorded yet 🍃</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- Versión móvil (cards) -->
    <div class="md:hidden divide-y divide-yellow-200">
      {% for payment in payments %}
        <div class="p-5 hover:bg-yellow-50 transition duration-150">
          <p class="text-green-700 font-bold text-lg mb-2">${{ payment.amount }}</p>
          <p class="text-gray-600 text-sm"><span class="font-semibold text-gray-800">📅 Date:</span> {{ payment.created_at|date:"Y-m-d" }}</p>
          <p class="text-gray-600 text-sm"><span class="font-semibold text-gray-800">📝 Details:</span> {{ payment.description }}</p>
          <p class="text-gray-400 italic mt-3 text-sm text-right">—</p>
        </div>
      {% empty %}
        <div class="text-center text-gray-500 py-8">No payments recorded yet 🍃</div>
      {% endfor %}
    </div>

  </div>
</div>
{% endblock %}
